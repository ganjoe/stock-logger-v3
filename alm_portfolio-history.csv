ID,Category,Title,Description,Covered By
F-OUT-020,Output,Interface Definition,Die Generierung der Ausgabedatei muss strikt der Definition in 'icd_portfolio-history.csv' (CSV Format) folgen.,icd_portfolio-history.csv
F-XML-010,XML,Input Interface,Der Parser muss die Input-Datei gemäß der Definition in 'icd_trades.csv' verarbeiten (Root <TradeLog>).,icd_trades.csv
F-XML-020,XML,Event Types,Der Parser unterscheidet Trades und Cash Flows. Transaktions-Typ wird aus Vorzeichen von Quantity abgeleitet.,-
F-DATA-010,Data,Source Formats,Deutsche Zahlenformate (Komma) und Datumsformate im Input.,-
F-DATA-020,Data,ISIN Source,Die ISIN wird aus dem Input-Attribut 'isin' gelesen.,-
F-DATA-030,Data,Price Source,"Der Transaktionspreis aus der Broker-CSV (avg_entry_price) ist die einzige Wahrheitsquelle für Positionsbewertung. Keine externen Marktdaten werden verwendet.",-
F-DATA-035,Data,No Market Data,"Auf Transaktionsebene werden keine Live-Marktdaten abgerufen. Dies garantiert deterministische und reproduzierbare Ergebnisse.",-
F-DATA-040,Data,StopLoss Source,StopLoss Default 0.00.,-
F-DATA-050,Data,Fees Source,"Kommissionen werden als 'Fee' behandelt.",-
F-LOGIC-010,Logic,Trade Matching,Es gilt LIFO-Matching (Last-In-First-Out).,-
F-LOGIC-011,Logic,Position Direction,"System unterstützt Long (positive Menge) und Short (negative Menge) Positionen.",-
F-LOGIC-012,Logic,Position Flip,"Ein Trade, der eine Position schließt und die Menge übersteigt, eröffnet automatisch eine neue Position in Gegenrichtung (Flip).",-
F-LOGIC-020,Logic,Cash Flows,Ein-/Auszahlungen verändern Inflows und Cash.,-
F-LOGIC-025,Logic,Dividenden,Dividenden erhöhen Cash und Equity.,-
F-LOGIC-030,Logic,No FX Conversion,Keine Währungsumrechnung für PnL. Native Werte werden 1:1 verwendet.,-
F-CALC-050,Metrics,PnL Calculation,"Berechnung von Realized PnL (Netto). Long: (Exit-Entry), Short: (Entry-Exit).",-
F-CALC-060,Metrics,Portfolio KPIs,"Berechnung von WinRate, ProfitFactor (intern/Datenbasis für Dashboard).",-
F-CALC-065,Metrics,Drawdown,"Drawdown = Adjusted_Equity - High Water Mark. Adjusted_Equity = Equity - Inflows. Ein-/Auszahlungen beeinflussen den Drawdown nicht.",-
F-CALC-070,Metrics,Snapshot State,"Equity = Cash + Total_Assets. Total_Assets = Summe aller offenen Positionen bewertet zum Entry-Preis (avg_entry_price). Unrealized PnL = 0 (da Current = Entry).",-
F-CALC-130,Metrics,Total Trades Statistics,Output von Trade_Count.,-
F-CALC-140,Metrics,Cumulative States,Output von Sum_Deposit/Dividend/Withdrawal.,-
F-LOGIC-040,Logic,Short Selling Collateral,"Proceeds from opening short positions (Selling without ownership) must be held in a separate 'Collateral' account and NOT treated as free Cash. Collateral is released upon closing the position.",
F-LOGIC-050,Logic,Multi-Ticker Resolution,"The system must natively resolve multiple ticker symbols (e.g. '4GLD, 4GLDd') mapping to the same ISIN within the input file. The first symbol is treated as primary.",
